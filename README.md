# Access log's parser

В репозитории всего 5 файлов:

1. access_log - файл с тестовыми данными;
2. constants.php - файл с необходимыми константами;
3. files_functions.php

    3.1 Функция open_log принимает в качестве аргумента путь к файлу, открывает его, записывает всё что в нем хранится в строковую
    переменную, закрывает файл и возвращает строку. Буфер расширяется если файл ещё не полностью считан. Максимальный размер буфера 50Мб.
    
    3.2 Функция write_output принимает json-данные и записывает из в файл.
    
4. parse_functions.php

    4.1 Функция prepare. Подготовка, с помощью регулярных выражений, массива данных, для дальнейшей обработки, из данных входящей строки.
    Запускает функцию parser с подготовленным массивом в качестве аргумента и возвращает json-данные.
    
    4.2 Функция fill_array. Принимает в качестве аргументов массив, который необходимо заполнить, массив входящих данных и длину этого 
    массива. В цикле пробегаемся по всем входящим данным и считаем всё что нам нужно и записываем в результирующий массив.
    
    4.3 Функция parse. Инициализируем массив, который будем кодировать в json, передаем этот массив и массив входных данных как аргументы
    в функцию fill_array. И возвращает json-данные.

5. parser.php - Здесь обрабатываются ошибки и запускается основной скрипт.
